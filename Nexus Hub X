local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

local Window = Rayfield:CreateWindow({
    Name = "Nexus Hub v1.2.3 ☄️",
    ConfigurationSaving = { Enabled = true },
    KeySystem = true,
    KeySettings = {
        FileName = "HydraKey",
        SaveKey = false,
        Key = "MYBF"
    },
    Theme = "Amethyst"
})

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Lighting = game:GetService("Lighting")
local LocalPlayer = Players.LocalPlayer

local playerEnabled = false
local noclipEnabled = false
local infJumpEnabled = false
local performanceEnabled = false

local cframeSpeed = 1
local gravity = 196.2

local storedParts = {}
local storedDecals = {}

local PlayerTab = Window:CreateTab("Player", 110476445363181)

PlayerTab:CreateToggle({Name="Enable Player",CurrentValue=false,Callback=function(v)playerEnabled=v end})
PlayerTab:CreateSlider({Name="CFrame Speed",Range={1,500},Increment=1,CurrentValue=1,Callback=function(v)cframeSpeed=v end})
PlayerTab:CreateSlider({Name="Gravity",Range={0,500},Increment=1,CurrentValue=196,Callback=function(v)gravity=v if playerEnabled then workspace.Gravity=v end end})
PlayerTab:CreateToggle({Name="Enable Noclip",CurrentValue=false,Callback=function(v)noclipEnabled=v end})
PlayerTab:CreateToggle({Name="Enable InfJump",CurrentValue=false,Callback=function(v)infJumpEnabled=v end})

local InGameTab = Window:CreateTab("In-game", 4483362458)

InGameTab:CreateToggle({
    Name="Performance Mode",
    CurrentValue=false,
    Callback=function(v)
        performanceEnabled = v
        pcall(function()
            if v then
                storedParts = {}
                storedDecals = {}

                for _,obj in ipairs(workspace:GetDescendants()) do
                    if obj:IsA("BasePart") then
                        storedParts[obj] = {
                            Material = obj.Material,
                            Color = obj.Color
                        }
                        obj.Material = Enum.Material.Plastic
                        obj.Color = Color3.fromRGB(128,128,128)
                    elseif obj:IsA("Decal") or obj:IsA("Texture") then
                        storedDecals[obj] = obj.Transparency
                        obj.Transparency = 1
                    end
                end
            else
                for part,data in pairs(storedParts) do
                    if part and part.Parent then
                        part.Material = data.Material
                        part.Color = data.Color
                    end
                end
                for decal,trans in pairs(storedDecals) do
                    if decal and decal.Parent then
                        decal.Transparency = trans
                    end
                end
                storedParts = {}
                storedDecals = {}
            end
        end)
    end
})

RunService.Stepped:Connect(function()
    if noclipEnabled then
        local char = LocalPlayer.Character
        if char then
            for _,part in ipairs(char:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end
    end
end)

UserInputService.JumpRequest:Connect(function()
    if infJumpEnabled and LocalPlayer.Character then
        local hum = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if hum then hum:ChangeState(Enum.HumanoidStateType.Jumping) end
    end
end)

RunService.Heartbeat:Connect(function()
    if not playerEnabled then return end
    local char = LocalPlayer.Character
    local hrp = char and char:FindFirstChild("HumanoidRootPart")
    local hum = char and char:FindFirstChildOfClass("Humanoid")
    if not hrp or not hum then return end
    workspace.Gravity = gravity
    local moveDir = hum.MoveDirection
    if moveDir.Magnitude > 0 then
        hrp.CFrame = hrp.CFrame + (moveDir * (cframeSpeed * 0.1))
    end
end)
