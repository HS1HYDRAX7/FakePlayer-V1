local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UIS = game:GetService("UserInputService")

local Player = Players.LocalPlayer
local Character, Humanoid, Root

local function UpdateChar()
	Character = Player.Character or Player.CharacterAdded:Wait()
	Humanoid = Character:WaitForChild("Humanoid")
	Root = Character:WaitForChild("HumanoidRootPart")
end
UpdateChar()
Player.CharacterAdded:Connect(UpdateChar)

local Flux = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Flux/main/source.lua"))()
local Window = Flux:Window("Nexus Hub", "v1.4.2☄️", Color3.fromRGB(155, 90, 255), Enum.KeyCode.RightShift)

local CFrameSpeed = false
local SpeedValue = 170
local NoClip = false
local InfJump = false
local GravityEnabled = false
local GravityValue = 50

RunService.RenderStepped:Connect(function()
	if CFrameSpeed and Root and Humanoid then
		local dir = Humanoid.MoveDirection
		if dir.Magnitude > 0 then
			Root.CFrame += dir * (SpeedValue / 60)
		end
	end
end)

RunService.Stepped:Connect(function()
	if Character then
		for _, v in ipairs(Character:GetDescendants()) do
			if v:IsA("BasePart") then
				v.CanCollide = not NoClip
			end
		end
	end
end)

UIS.JumpRequest:Connect(function()
	if InfJump and Humanoid then
		Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
	end
end)

RunService.Heartbeat:Connect(function()
	if GravityEnabled then
		workspace.Gravity = GravityValue
	else
		workspace.Gravity = 196.2
	end
end)

local PlayerTab = Window:Tab("Player", "http://www.roblox.com/asset/?id=6026568216")
local Movement = PlayerTab:Section("Movement")

Movement:Toggle("CFrame Speed", false, function(v)
	CFrameSpeed = v
end)

Movement:Slider("Speed", 1, 170, SpeedValue, function(v)
	SpeedValue = v
end)

Movement:Toggle("Noclip", false, function(v)
	NoClip = v
end)

Movement:Toggle("Infinite Jump", false, function(v)
	InfJump = v
end)

Movement:Toggle("Low Gravity", false, function(v)
	GravityEnabled = v
end)

Movement:Slider("Gravity", 10, 196, GravityValue, function(v)
	GravityValue = v
end)

local InfoTab = Window:Tab("Information", "http://www.roblox.com/asset/?id=6022668888")
local Info = InfoTab:Section("")

Info:Label("Nexus Hub")
Info:Label("Version: 1.4.2")
Info:Label("UI: Flux")
